<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Botswana Voter Registration Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            background: linear-gradient(to top, dodgerblue, black, dodgerblue);
        }
        section {
            background-color: gray;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        h1 {
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            border: 2px solid black;
        }
        td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .column-divider {
            border-right: 2px solid black;
        }
        button {
            background-color: dodgerblue;
            width: 100px;
            height: 40px;
            font-size: large;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
           
        }
        img {
            width: 150px;
            height: 150px;
            margin-left: 325px;
        }
        input[type="text"],
        input[type="date"],
        select {
            width: 180px; 
            padding: 8px; 
            box-sizing: border-box; 
            font-size: large;
        }
    </style>
</head>
<body>

<section></section>

<div class="container">
    <img src="iec.png" alt="IEC Logo"> 
    <h1 style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">BOTSWANA VOTER REGISTRATION FORM</h1>
    <!-- Section 1: Instructions -->
    <section>
        <h1>INSTRUCTIONS</h1>
        <table>
            <tr>
                <td class="column-divider">
                    <p><b>You can use this form:</b></p>
                    <ul>
                        <li>to register to vote</li>
                        <li>update your registration address</li>
                    </ul>
                    <p><b>Deadline for submitting the form is 25<sup>th</sup> March 2024</b></p>
                </td>
                <td>
                    <p><b>You should be:</b></p>
                    <ul>
                        <li>18 years and above</li>
                        <li>Be a citizen of Botswana</li>
                        <li>Have a valid national ID (Omang)</li>
                        <li>Passport or Driver’s licences are not allowed</li>
                    </ul>
                </td>
            </tr>
        </table>
    </section>
    <!-- Section 2: Eligibility Test -->
    <section>
        <h1>ELIGIBILITY TEST</h1>
        <p><b>Are you a citizen of Botswana?</b></p>
        <select id="citizen">
            <option value="yes">YES</option>
            <option value="no">NO</option>
        </select><br><br>
        <p><b>Will you be 18 years or older on the election day?</p>
        <select id="age">
            <option value="yes">YES</option>
            <option value="no">NO</option>
        </select><br>
        <p> NB: </b><u>Click continue to proceed and enter your personal detail then fill the rest of the form and submit</u></p>
        <button class="btn" onclick="checkEligibility()"><b>Continue</b></button>
    </section>
    <!-- Section 3: Personal Details -->
    <section style="display: none;">
        <h1>PERSONAL DETAILS</h1>
      <!-- Add ids to input fields -->
<div class="form-group">
    <label for="national-id"><b>National ID (Omang) Number:</label>
    <input type="text" id="national-id">
</div>
<br>

<div class="form-group">
    <label for="first-name">First Name:</label>
    <input type="text" id="first-name">
</div>
<br>

<div class="form-group">
    <label for="last-name">Last Name:</label>
    <input type="text" id="last-name">
</div>
<br>

<div class="form-group">
    <label for="dob">Date of Birth:</label>
    <input type="date" id="dob">
</div>
<br>

<div class="form-group">
    <label for="gender">Gender:</label>
    <select id="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
    </select>
</div>
<br>


    </section>
    <!-- Section 4: Place of Residence -->
<section >
    
    <h1>PLACE OF RESIDENCE</h1>
    <div class="form-group">
        <label for="constituency"><b>Select Constituency:</label>
        <select id="constituency">
            <option value="50">50 Letlhakane</option>
        </select>
    </div>
     <br>
    <div class="form-group">
        <label for="village">Select Village:</label>
        <select id="village">
            <option value="Ngware-Sorilatholo">Ngware-Sorilatholo</option>
            <option value="Khudumelapye">Khudumelapye</option>
        </select>
    </div>
    <br>
    <div class="form-group">
        <label for="pollingStation">Select Polling Station:</label>
        <select id="pollingStation">
            <!-- Polling stations will be populated based on the village selection -->
        </select> </b>
    </div> 
    <br>
</section>
    

<section>
    <h1>VOTERS DECLARATIONS</h1>
    <p><b>Please read the following statements and indicate whether you agree or disagree:</b></p>
    <ul>
        <li>I am a citizen of Botswana</li>
        <li>I live in the Constituency I am registering at.</li>
        <li>I will be 18 years old on or before Election date.</li>
        <li>I have not been judged “mentally incompetent from the Court of Law”</li>
    </ul>
    <label for="agree"><b>I agree</label>
    <input type="radio" id="agree" name="declaration" value="agree">
    <label for="disagree">I disagree</label>
    <input type="radio" id="disagree" name="declaration" value="disagree"><br><br>
    <label for="date">Date:</label>
    <input type="date" id="date"><br>
       <button onclick="submitDeclaration()" style="display: block; margin: 0 auto; width: 150px; height: 50px; font-size: 30px;">SUBMIT</b></button>
</section>

<script>

// Function to check if all fields are filled
    function checkFields() {
        const nationalId = document.getElementById('national-id').value.trim();
        const firstName = document.getElementById('first-name').value.trim();
        const lastName = document.getElementById('last-name').value.trim();
        const dob = document.getElementById('dob').value.trim();
        const gender = document.getElementById('gender').value.trim();

        // If all fields are filled, enable the button
        if (nationalId !== '' && firstName !== '' && lastName !== '' && dob !== '' && gender !== '') {
            document.getElementById('continueBtn').disabled = false;
        } else {
            document.getElementById('continueBtn').disabled = true;
        }
    }

    // Call checkFields function whenever input fields change
    document.getElementById('national-id').addEventListener('input', checkFields);
    document.getElementById('first-name').addEventListener('input', checkFields);
    document.getElementById('last-name').addEventListener('input', checkFields);
    document.getElementById('dob').addEventListener('input', checkFields);
    document.getElementById('gender').addEventListener('input', checkFields);

    // Function to show the next section
    function showNextSection() {
        // Hide current section
        const currentSection = document.querySelector('section[style="display: none;"]');
        currentSection.style.display = 'none';

        // Show next section
        const nextSection = currentSection.nextElementSibling;
        nextSection.style.display = 'block';
    }

function checkEligibility() {
        var citizen = document.getElementById('citizen').value;
        var age = document.getElementById('age').value;

        if (citizen === "no" || age === "no") {
            alert("You are not eligible to register, please quit the registration process");
            return;
        }

        // If eligible, show personal details section
        document.querySelector('section:nth-of-type(3)').style.display = "block";
    }

    function populatePollingStations() {
    const village = document.getElementById("village").value;
    const pollingStationSelect = document.getElementById("pollingStation");
    pollingStationSelect.innerHTML = "";

    const pollingStations = {
        "Ngware-Sorilatholo": [

            { id: 2160, name: "tent at sorilatholo kgotla" },
            { id: 2161, name: "diphuduhudu primary school" },
            { id: 2162, name: "tent at seitsantse mobile stop" },
            { id: 2163, name: "ngware primary school" },
            { id: 2164, name: "tent at dinonyane borehole" },
            { id: 2785, name: "tent at maraeche" },
            { id: 2786, name: "tent at molengwane" }
        ],
        "Khudumelapye": [
            { id: 2165, name: "khudumelapye main kgotla" },
            { id: 2166, name: "khudumelapye community hall" },
            { id: 2167, name: "khudumelapye primary school" },
            { id: 2168, name: "tent at kosie mobile stop" },
            { id: 2169, name: "tent at kgesakwe mobile stop" }
        ]
    };

        pollingStations[village].forEach(station => {
            const option = document.createElement("option");
            option.value = station.id;
            option.textContent = station.name;
            pollingStationSelect.appendChild(option);
        });
    }

    function continueToNextSection() {
        // Get selected values
        const selectedConstituency = document.getElementById("constituency").value;
        const selectedVillage = document.getElementById("village").value;
        const selectedPollingStation = document.getElementById("pollingStation").value;

        // Check if all selections are made and match the criteria
        if (selectedConstituency === "50" && // Check if constituency is 50
            ((selectedVillage === "Ngware-SORILATHOLO" && // Check if village matches constituency
                (selectedPollingStation === "449" || selectedPollingStation === "2160" ||
                 selectedPollingStation === "2161" || selectedPollingStation === "2162" ||
                 selectedPollingStation === "2163" || selectedPollingStation === "2164" ||
                 selectedPollingStation === "2785" || selectedPollingStation === "2786")) ||
             (selectedVillage === "Khudumelapye" && // Check if village matches constituency
                (selectedPollingStation === "2165" || selectedPollingStation === "2166" ||
                 selectedPollingStation === "2167" || selectedPollingStation === "2168" ||
                 selectedPollingStation === "2169")))) {
            // All selections are valid, proceed to the next section
            console.log("All selections are valid. Continue to next section");
            showNextSection(); // Move to the next section
        } else {
            // Invalid selections, prompt user to correct them
            console.log("Invalid selections. Please make sure all selections are correct.");
            // You can also provide an alert or message to the user here
        }
    }

    // Populate polling stations when the village selection changes
    document.getElementById("village").addEventListener("change", populatePollingStations);

    // Initially populate polling stations based on the default village selection
    populatePollingStations();
    function submitDeclaration() {
    var agreement = document.querySelector('input[name="declaration"]:checked');
    var date = document.getElementById('date').value;
    
    if (agreement && date) {
        var agreed = agreement.value === 'agree';
        var message = agreed ? "Congratulations you have successfully registered:\n" : "Unfortunately you have not agreed to the voter's declaration:";
        
        // Get user information from personal details section
        var id = document.getElementById('national-id').value;
        var firstName = document.getElementById('first-name').value;
        var lastName = document.getElementById('last-name').value;
        var dob = document.getElementById('dob').value;
        var gender = document.getElementById('gender').value;

        // Assume you have the following variables defined with user information
        var placeOfResidence = document.getElementById('village').value; // You can get this from the previous section

        if (agreed) {
            message += "ID: " + id + "\n";
            message += "First Name: " + firstName + "\n";
            message += "Last Name: " + lastName + "\n";
            message += "Date of Birth: " + dob + "\n";
            message += "Gender: " + gender + "\n";
            message += "Place of Residence: " + placeOfResidence + "\n";
            message += "Remember to vote on the day of elections coming soon.";
        } else {
            message += "ID: " + id + "\n";
            message += "First Name: " + firstName + "\n";
            message += "Last Name: " + lastName + "\n";
            message += "Date of Birth: " + dob + "\n";
            message += "Gender: " + gender + "\n";
            message += "Place of Residence: " + placeOfResidence + "\n";
            message += "You will be removed from the voter register. Please visit the nearest IEC office to seek help.";
        }

        // Display the message
        alert(message);
    } else {
        alert("Please indicate your agreement or disagreement and provide the date.");
    }
}

</script>
</body>
</html> 